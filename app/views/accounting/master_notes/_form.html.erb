<%= render partial: 'layouts/navigation' %>

<%= form_with(model: [:accounting, master_note], local: true, html: { class: "basic-grey"}) do |form| %>
  <% if master_note.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(master_note.errors.count, "error") %> prohibited this master_note from being saved:</h2>

      <ul>
      <% master_note.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <form>
    <div class="form-row">
      <div class="col-md-2 mb-10">
        <%= form.label :year, class:"label" %>
        <%= form.text_field :year, class:"form-control" %>
      </div>

      <div class="col-md-2 mb-10">
        <%= form.label :month, class:"label" %>
        <%= form.select :month, options_for_month(@master_note.month), class:"form-control" %>
      </div>
    </div>

    <br><br>

    <div id='notes'>
      <%= form.fields_for :notes do |notes_fields| %>
        <%= render 'note_fields', f: notes_fields %>
      <% end %>
      <div class='links'>
        <%= link_to_add_association('+', form, :notes, class: "badge badge-pill badge-secondary", style: "background: #a53838") %>
      </div>
    </div>

    <br><br><br>

    <div class="form-row">
      <div class="col-md-1 mb-10">
        <%= form.submit t('buttons.save'), class:"btn btn-primary" %>
      </div>
      <div class="col-md-1 mb-10">
        <%= link_to t('buttons.back'), accounting_master_notes_path, class:"btn btn-secondary"%>
      </div>
    </div>
  </form>
<% end %>

<br>

